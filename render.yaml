services:
  # Backend: Python FastAPI (Docker)
  - type: web
    name: siemens-trainer-backend
    runtime: docker
    rootDir: backend
    plan: free
    region: frankfurt # Good for Europe/General, or choose 'oregon'
    envVars:
      - key: PORT
        value: 8000
    autoDeploy: true

staticSites:
  # Frontend: React Vite (Static Site)
  - name: siemens-trainer-frontend
    type: static
    rootDir: frontend
    buildCommand: npm run build
    publishPath: ./dist
    # region: frankfurt <-- Static sites are global CDN, cannot specify region
    envVars:
      - key: VITE_API_BASE_URL
        fromService:
          type: web
          name: siemens-trainer-backend
          property: host
    autoDeploy: true
